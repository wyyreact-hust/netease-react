(self.webpackChunkreact_netease_music=self.webpackChunkreact_netease_music||[]).push([[417],{6663:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(7757),s=r.n(n),a=r(8926),c=r.n(a),i=r(5485);const u={getAlbum:function(){var e=c()(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/album",params:{id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},7131:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7757),s=r.n(n),a=r(8926),c=r.n(a),i=r(5485),u=r(4760),o=r(2689);const l={searchHot:function(){var e=c()(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/search/hot"});case 2:return r=e.sent,e.abrupt("return",null==r||null===(t=r.result)||void 0===t?void 0:t.hots);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),searchSuggest:function(){var e=c()(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.keywords,e.next=3,(0,i.Z)({url:"/search/suggest",params:{keywords:r}});case 3:return n=e.sent,e.abrupt("return",n.result);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),search:function(){var e=c()(s().mark((function e(t){var r,n,a,c,l,d,p,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.keywords,n=t.type,a=void 0===n?u.xb.MUSIC:n,c=t.limit,l=void 0===c?o.IV:c,d=t.offset,p=void 0===d?0:d,e.next=3,(0,i.Z)({url:"/search",params:{keywords:r,type:a,limit:l,offset:p}});case 3:return m=e.sent,e.abrupt("return",m.result);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},6888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>M});var n=r(7757),s=r.n(n),a=r(9713),c=r.n(a),i=r(8926),u=r.n(i),o=r(1679),l=r(5893),d=r(7294),p=r(4184),m=r.n(p),y=r(8387),f=r(2773),h=r(4760),v=r(6663),b=r(2771),x=r(5749),_=r(4275);const j="src-components-MusicList-style-module__alias--OyjvX",k="src-components-MusicList-style-module__operations--l03Mx",g="src-components-MusicList-style-module__index--d0Ufc",w="src-components-MusicList-style-module__isPlaying--A-Utb",S="src-components-MusicList-style-module__name--NLw7W",O="src-components-MusicList-style-module__active--9Jz1_";function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=d.useContext;const M=function(e){var t=e.data,r=e.onPlayAll,n=U(_.bp),a=U(_.vY),c=U(_.Hm),i=[{title:"",key:"name",width:"80px",render:function(e,t,r){var s;return(0,l.jsxs)("div",{className:k,children:[n.musicId===t.id?(0,l.jsx)("span",{className:w,children:(0,l.jsx)(o.J,{icon:(null===(s=c.state)||void 0===s?void 0:s.paused)?"volume-off":"volume-up",iconSize:14})}):(0,l.jsx)("span",{className:g,children:(r||0)+1}),(0,l.jsx)(o.J,{icon:"import",iconSize:14})]})}},{title:"音乐标题",key:"name",width:"45%",render:function(e,t){var r=t.alias,s=t.id,a=t.fee;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:m()(S,n.musicId===s&&O),children:[(0,l.jsx)("span",{children:e}),a===h.Zo.VIP&&(0,l.jsx)(f.Z,{})]}),(null==r?void 0:r.length)?(0,l.jsx)("div",{className:j,children:r.join(" ")}):null]})}},{title:"歌手",key:"artists",width:"15%",render:function(e){return null==e?void 0:e.map((function(e){return e.name})).join(" / ")}},{title:"专辑",key:"album",width:"20%",render:function(e){return null==e?void 0:e.name}},{title:"时长",key:"duration",width:"10%",render:function(e){return(0,b.mr)(e/1e3)}}],d=function(){var e=u()(s().mark((function e(t){var n,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.picUrl){e.next=6;break}return e.next=4,v.Z.getAlbum(t.album.id);case 4:c=e.sent,n=null==c?void 0:c.album.blurPicUrl;case 6:a({type:_.aO.PLAY,payload:{musicId:t.id,music:(0,x.lk)(I(I({},t),{},{picUrl:n,duration:t.duration/1e3}))}}),r&&r();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsx)("div",{children:(0,l.jsx)(y.Z,{columns:i,data:t,onDoubleClick:d,isRecordRowDisabled:function(e){return e.status===h.Ou.NOT_FOUND}})})}},743:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(3038),s=r.n(n),a=r(5977);const c=function(){var e=(0,a.TH)().search,t={};return console.log(t),console.log(e),e.substr(1).split("&").reduce((function(e,t){var r=t.split("="),n=s()(r,2),a=n[0],c=n[1];return e[a]=decodeURIComponent(c),e}),t),t}},1417:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M});var n=r(8673),s=r(3038),a=r.n(s),c=r(5893),i=r(7294),u=r(4184),o=r.n(u),l=r(458),d=r(6888),p=r(743),m=r(4135),y=r(7131),f=r(4760),h=r(2689);const v="src-pages-Search-style-module__root--3xM1D",b="src-pages-Search-style-module__header--MrN81",x="src-pages-Search-style-module__title--Rzw6I",_="src-pages-Search-style-module__keyword--27NYd",j="src-pages-Search-style-module__count--3KWdm",k="src-pages-Search-style-module__tabs--IS1Ji",g="src-pages-Search-style-module__tab--3_qZd",w="src-pages-Search-style-module__active--297DU",S="src-pages-Search-style-module__content--2bdkW",O="src-pages-Search-style-module__spinner--lP-N9";var N=i.useEffect,I=i.useState,U={MUSIC:{tab:"单曲",tabKey:"MUSIC",unit:"首",key:"song",searchType:f.xb.MUSIC},ARTIST:{tab:"歌手",tabKey:"ARTIST",unit:"位",key:"artist",searchType:f.xb.ARTIST},ALBUM:{tab:"专辑",tabKey:"ALBUM",unit:"张",key:"album",searchType:f.xb.ALBUM},SONG_LIST:{tab:"歌单",tabKey:"SONG_LIST",unit:"个",key:"playlist",searchType:f.xb.SONG_LIST},USER:{tab:"用户",tabKey:"USER",unit:"位",key:"userprofile",searchType:f.xb.USER}};const M=function(){var e=(0,p.Z)().keyword,t=I(h.qX),r=a()(t,2),s=r[0],i=r[1],u=I(U.MUSIC.tabKey),f=a()(u,2),M=f[0],T=f[1],Z=U[M],P=Z.unit,C=Z.key,L=Z.tab,A=Z.searchType,R=(0,m.Z)(y.Z.search),D=a()(R,2),K=D[0],E=D[1],z=K.value,J=K.loading;N((function(){E({keywords:e,type:A})}),[e,A]);var B=(null==z?void 0:z["".concat(C,"Count")])||0;return(0,c.jsxs)("div",{className:v,children:[(0,c.jsxs)("div",{className:b,children:[(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)("span",{className:_,children:e}),(0,c.jsxs)("span",{className:j,children:["找到 ",B," ",P,L]})]}),(0,c.jsx)("div",{className:k,children:Object.keys(U).map((function(t){return(0,c.jsx)("div",{className:o()(g,M===t&&w),onClick:function(){return function(t){T(t);var r=U[t].searchType;E({keywords:e,type:r})}(t)},children:U[t].tab},t)}))})]}),(0,c.jsx)("div",{className:S,children:J?(0,c.jsx)(n.$,{className:O}):(0,c.jsxs)("div",{children:[M===U.MUSIC.tabKey&&(0,c.jsx)(d.Z,{data:null==z?void 0:z.songs}),(0,c.jsx)("div",{className:"pagination",children:(0,c.jsx)(l.Z,{page:s,total:B,onPageChange:function(t){i(t),E({keywords:e,type:A,offset:(t-1)*h.IV})}})})]})})]})}}}]);